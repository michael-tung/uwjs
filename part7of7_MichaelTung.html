<doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>My First JavaScript</title>
    <style>
   body {
        margin: 140px;
        }

        #wrapper {
        display: grid;
        grid-auto-rows: repeat(5, 50px);
        grid-template-columns: repeat(5, 50px);
        grid-gap: 10px;
        background-color: #fff;
        color: #444;
        }

        .box {
        background-color: #444;
        color: #fff;
        border-radius: 5px;
        padding: 20px;
        font-size: 150%;
        }
    </style>
</head>
<body>
        <div id="title"></div>
        <div id="wrapper">
     
        </div>
<script>
	// *********************************************
	// **    Code Author: Carol_Farris (edited by Jun Kim)
	// **    Date: 10_11_17
	// **    Last Modified: 10/22/17
	// **    Description: We work for a game development company. We have been tasked with building a browser based clone of minesweeper.
	// **
	// *********************************************
	// **    Change Log
	// **    10/9/17- Added header and changelog. Cliff
	// **    10/12/17- Added prompt for user name and display welcome message in alert box. 
	// **    10/20/17- Added the function for looping zero for each space. - Jun Kim
	// **    10/22/17- Added loop function when user does not enter the right answer. - Jun Kim
	// **    10/29/17 - project part 3 of 7 - Michael Tung
    // **    11/19/17 - project part 4 of 7 - Michael Tung
    //       12/06/2017 - project part 5 of 7 - Michael Tung
    //       12/06/2017 - project part 6 of 7 - Michael Tung
	// *********************************************
	//
	
	//below will prompt user for their name
	var name = 0,
		space = 0;
	
    //add who function for name of user input
    function who () {
        // Users entering their names.
        while ((name < 1) && (name !== null)) {
            name = prompt('Greetings! What is your name?'); //Asks the user what his/her name is.

            if (name.length == 0) {
                alert("Please enter at least one letter."); //Alert the user when nothing is entered.
                name = 0; // Resets back to 0 to continue loop.
            }
        }
    return name;
    }
	
    //callback for who function 
    who();


    // add size fucntion for size of game board 
    function size () {
        // Users entering the number of locations.
        while ((space < 5) && (space !== null)) {
            space = prompt('Nice to meet you' + ' ' + name + '!' + ' ' + 'How many locations would you like? (minimum of 5)'); //Asks the user how many locations.

            // Checking to see if the user entered a number.
            if (isNaN(space)) {
                alert("Please enter numbers only."); //Alert the user when the user does not enter a number.
                space = 0; // Resets back to 0 to continue loop.
            } else if (space < 5) {
                alert("Please enter a number above 5."); //Alert the user when the number is not above 5.
                space = 0; // Resets back to 0 to continue loop.
            }
        }
    return space;
    }

    //callback for the size function
    size ();


    //create html divs
     function createDiv() {
        var node = document.createElement("div");
        node.setAttribute("class", "box");
        document.getElementById("wrapper").appendChild(node);
    }

    //set css grid column and rows 
    function grid(){
        var gridAdd = document.querySelector("#wrapper");

        var gridSize = space;
        gridSize = "repeat" + "(" + space + "," + "50px" + ")";

        gridAdd.style.gridAutoRows = gridSize;
        gridAdd.style.gridTemplateColumns = gridSize;
    }


    //define the onclick experience 
    function 
	document.getElementById("title").innerHTML = "This is" + " " + name + "'s playground." //This changes the body text once the user enter's his/her name.
	
	if (space >= 5) { //check if user enter more than 5 columns 

        var table = []; //init a empty table array

            //create the number of rows based on user input
			for (var rows = 0; rows < space; rows++){        
                
                table[rows] = []; //init the empty array per row 

                grid();
                                
                createDiv();
				//loop through the columns based on user input and the create the Zeros 0 in the column for each empty row array
				for (var column = 0; column < space; column++){

                    grid();
                    createDiv();
                    table[rows][column] = 0; 

				}
			}
	} else {
		//writes to document msg for anything less than 5 - mt
		document.write(" " + "Game size has to b 5 or bigger into order to play, Good Bye!");
	}
    
    //init a random row Position to place mine    
    var rowPos = Math.floor((Math.random() * parseInt(space)));
    //init a random column position to place mine
    var colPos = Math.floor((Math.random() * parseInt(space)));

    //init a mine variable value
    var mine = "M";

     //location of the mine variable based on random array index value
    table[rowPos][colPos] = mine;

    //add all permutation based random index value for mine position
    table[rowPos+1][colPos+1] = 1;
    table[rowPos - 1][colPos - 1] = 1;
    table[rowPos][colPos + 1] = 1;
    table[rowPos][colPos - 1] = 1;
    table[rowPos + 1][colPos] = 1;
    table[rowPos - 1][colPos] = 1;

   

    //once above condition is met, loop through the rowsa based on the limit of user imput and write to DOM with the value of the array and columns
    for (var rows = 0; rows < space; rows++) {
        for (var column = 0; column < space; column++ ) {
            document.write(table[rows][column] + " ");
        }
        document.write("<br>"); //add break to column
    }
    
    

</script>
</body>
</html>